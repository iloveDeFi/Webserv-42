diff --git a/Makefile b/Makefile
index a0294d5..f6bdc43 100644
--- a/Makefile
+++ b/Makefile
@@ -4,7 +4,7 @@ SRCS_FOLDER = sources
 INCLUDES_FOLDER = includes
 
 SRCS_LIST = main.cpp \
-            $(addprefix $(SRCS_FOLDER)/, Client.cpp HttpConfig.cpp \
+            $(addprefix $(SRCS_FOLDER)/, Client.cpp HttpConfig.cpp Config.cpp\
 			HttpRequest.cpp HttpResponse.cpp HttpController.cpp Location.cpp \
 			MngmtServers.cpp Socket.cpp Utils.cpp)
 
diff --git a/config.txt b/config.txt
index 3961899..7f82e4f 100644
--- a/config.txt
+++ b/config.txt
@@ -1,2 +1 @@
-root:/html index:index.html,index.htm error:404,not_found.html error:500,error.html listing:true name:mywebserv listen:8888 Size:8M;
-root:/html index:index.html,index.htm error:404,not_found.html error:500,error.html listing:true name:mywebserv2 listen:8080 Size:8M;
+- server:
diff --git a/includes/HttpResponse.hpp b/includes/HttpResponse.hpp
index aecbfc4..34c7983 100644
--- a/includes/HttpResponse.hpp
+++ b/includes/HttpResponse.hpp
@@ -4,6 +4,7 @@
 #include <iostream>
 #include <map>
 #include <string>
+#include <sstream>
 
 // My response format is:
 // 1) HTTP Response Line
@@ -63,7 +64,8 @@ class HttpResponse {
 
         // OTHER
         void ensureContentLength();
-        std::string toString() const; // or use std::to_string ?
+		std::string toString() const;
+
 
         // SPECIAL RESPONSES
         std::string generate404Error(const std::string& uri);
@@ -71,6 +73,15 @@ class HttpResponse {
 
         // PRINT DATA (Internal to class cause no getters in response)
         std::ostream& print(std::ostream& os) const;
+
+		template <typename T>
+        std::string to_string(T value) const {
+            std::ostringstream oss;
+            oss << value;
+            return oss.str();
+        }
+
+
 };
 
 #endif
diff --git a/includes/MngmtServers.hpp b/includes/MngmtServers.hpp
index 219bcf0..2c29445 100644
--- a/includes/MngmtServers.hpp
+++ b/includes/MngmtServers.hpp
@@ -17,6 +17,8 @@
 #include "HttpController.hpp"
 #include "HttpRequest.hpp"
 #include "HttpResponse.hpp"
+#include <string.h>
+
 
 
 class ManagementServer
@@ -55,6 +57,8 @@ class ManagementServer
 		std::map<std::string, Location>& getLocation(std::vector<_server>::iterator it);
 
 		void setIpAddress(std::vector<_server>::iterator it, int ip);
+		int my_stoi(const std::string& str);
+
 
 };
 
diff --git a/main.cpp b/main.cpp
index 591d0ca..25728ad 100644
--- a/main.cpp
+++ b/main.cpp
@@ -17,9 +17,16 @@ int main(int ac, char **av)
         std::cout << "Binary must be: ./webserv [configuration file]" << std::endl;
         return (1);
     }
-	std::ifstream settings(av[1]);
-	Config config(settings);
-	ManagementServer webserv(config.getFdConfig(), config.getLocations());
-	webserv.handleRequest();
+	try
+	{
+		std::ifstream settings(av[1]);
+		Config config(settings);
+		ManagementServer webserv(config.getFdConfig(), config.getLocations());
+		webserv.handleRequest();
+	}
+	catch (std::exception &e)
+	{
+		std::cerr << e.what() << std::endl;
+	}
 	return (0);
 }
\ No newline at end of file
diff --git a/sources/HttpResponse.cpp b/sources/HttpResponse.cpp
index 8b9fb5e..a12e99f 100644
--- a/sources/HttpResponse.cpp
+++ b/sources/HttpResponse.cpp
@@ -1,5 +1,6 @@
 #include "HttpResponse.hpp"
 
+
 HttpResponse::HttpResponse() 
     : _httpVersion("HTTP/1.1"), _statusCode(200), _headers(), _body(""), _isChunked(false) {}
 
@@ -37,12 +38,12 @@ void HttpResponse::setIsChunked(bool isChunked) { _isChunked = isChunked; }
 // OTHER
 void HttpResponse::ensureContentLength() {
     if (_headers.find("Content-Length") == _headers.end()) {
-        _headers["Content-Length"] = std::to_string(_body.size());
+        _headers["Content-Length"] = HttpResponse::to_string(_body.size());
     }
 }
 
 std::string HttpResponse::toString() const {
-    std::string response = _httpVersion + " " + std::to_string(_statusCode) + " " + _reasonMessage + "\r\n";
+    std::string response = _httpVersion + " " + HttpResponse::to_string(_statusCode) + " " + _reasonMessage + "\r\n";
     
     for (std::map<std::string, std::string>::const_iterator it = _headers.begin(); it != _headers.end(); ++it) {
         response += it->first + ": " + it->second + "\r\n";
@@ -57,7 +58,7 @@ std::string HttpResponse::generate404Error(const std::string& uri) {
     std::string errorPage = "<html><body><h1>404 Not Found</h1>";
     errorPage += "<p>The requested resource " + uri + " was not found on this server.</p></body></html>";
     
-    return "HTTP/1.1 404 Not Found\r\nContent-Type: text/html\r\nContent-Length: " + std::to_string(errorPage.size()) + "\r\n\r\n" + errorPage;
+    return "HTTP/1.1 404 Not Found\r\nContent-Type: text/html\r\nContent-Length: " + HttpResponse::to_string(errorPage.size()) + "\r\n\r\n" + errorPage;
 }
 
 std::string HttpResponse::generateRedirection(const std::string& newUri) {
diff --git a/sources/MngmtServers.cpp b/sources/MngmtServers.cpp
index a5d4d59..45622e5 100644
--- a/sources/MngmtServers.cpp
+++ b/sources/MngmtServers.cpp
@@ -16,6 +16,20 @@
 //constructeur du gestionnaire de serveurs
 //il va découper le fichier en ligne (chacune représentant un serveur)
 //et ajouter un serveur au veteur de _servers
+
+int ManagementServer::my_stoi(const std::string& str) {
+    std::istringstream iss(str);
+    int value;
+    iss >> value;
+    
+    // Vous pouvez également ajouter une vérification d'erreur ici
+    if (iss.fail()) {
+        throw std::invalid_argument("Invalid input: not a number");
+    }
+
+    return value;
+}
+
 ManagementServer::ManagementServer(std::ifstream& fdConfig, \
 std::vector<std::map<std::string, Location> > serversLocations)
 {
@@ -72,14 +86,14 @@ std::map<std::string, Location>& locations)
 		std::string value = pair.substr(delimiterPos + 1);
 
 		if (key == "listen")
-			newServer._port = stoi(value);
+			newServer._port = my_stoi(value);
 		else if (key == "name")
 			newServer._name = value;
 		else if (key == "size")
 		{
 			//trouver moyen de mieux gérer la taille (lettre/valeur)
 			value = value.substr(0, value.size() - 1);
-			newServer._maxSize = stoi(value);
+			newServer._maxSize = my_stoi(value);
 		}
 	}
 	newServer._serverSocket = new Socket(AF_INET, SOCK_STREAM, 0, newServer._port, INADDR_ANY);
@@ -254,7 +268,7 @@ void ManagementServer::handleClient(int clientSocket)
 	if (getsockname(clientSocket, (struct sockaddr*)&serverAddr, &serverAddrLen) == -1)
 		throw std::runtime_error("Error getting server socket information");
 	int serverPort = ntohs(serverAddr.sin_port);
-	_server* currentServer = nullptr;
+	_server* currentServer = NULL;
 	for (std::vector<_server>::iterator it = _servers.begin(); it != _servers.end(); ++it)
 	{
 		if (it->_port == serverPort)
